# Story 0.1: Verify Sample Plotly Repositories Accessibility

## Status
Ready for Review

## Story
**As a** developer,
**I want** to verify access to sample-plotly-repos and validate repository structure,
**So that** Epic 4 Dash integration has confirmed access to source Dash applications.

## Acceptance Criteria
1. Verify `sample-plotly-repos/burn-performance` repository exists and is accessible (local directory or git repo)
2. Verify `sample-plotly-repos/mixshift` repository exists and is accessible
3. Document repository locations in `docs/external-dependencies.md` with access instructions
4. Verify burn-performance contains a runnable Dash application (app.py or similar entry point)
5. Verify mixshift contains a runnable Dash application
6. Document Dash app structure (entry point file, dependencies, data loading patterns)
7. If repositories not accessible, document fallback plan (create stub Dash apps or acquire repos)
8. Create `docs/external-dependencies.md` tracking all external resources

## Tasks / Subtasks
- [x] **Task 1: Check repository accessibility** (AC: 1, 2)
  - [x] Check if `sample-plotly-repos/burn-performance` directory exists locally
  - [x] Check if `sample-plotly-repos/mixshift` directory exists locally
  - [x] If local: verify read permissions
  - [x] If git repo: attempt `git clone` or `git pull` to validate accessibility
  - [x] Document actual locations (absolute path or git URL) for future reference

- [x] **Task 2: Inspect Dash application structure** (AC: 4, 5, 6)
  - [x] Locate main entry point file for burn-performance (likely `app.py` or `main.py`)
  - [x] Locate main entry point file for mixshift
  - [x] Identify if dependencies are documented (requirements.txt, pyproject.toml, or inline imports)
  - [x] Inspect data loading patterns (direct file reads, API calls, hardcoded data)
  - [x] Note any non-standard Dash patterns (callbacks, layouts, data flow)

- [x] **Task 3: Create external dependencies documentation** (AC: 3, 6, 8)
  - [x] Create `docs/external-dependencies.md` file
  - [x] Document section: Repository Locations
    - Burn-performance location, access method
    - Mixshift location, access method
  - [x] Document section: Dash Application Structure
    - Entry point files for each app
    - Dependency files (requirements.txt locations)
    - Data loading patterns observed
  - [x] Document section: Access Instructions
    - Steps to access/clone repositories
    - Any authentication or permissions needed

- [x] **Task 4: Document fallback plan if repos unavailable** (AC: 7)
  - [x] If repos NOT accessible: Add "Fallback Plan" section to `docs/external-dependencies.md`
  - [x] Fallback option 1: Acquire repositories (contact owner, find public source)
  - [x] Fallback option 2: Create stub Dash apps (describe minimal visualization approach)
  - [x] Document estimated effort for each fallback option
  - [x] Recommend approach to Product Owner

## Dev Notes

### Project Context
This is the **first story** in Epic 0 (Prerequisites & External Dependency Validation). Epic 0 must complete before Epic 1 begins. This story validates external Dash repositories that will be modified in Epic 4.

**Epic 4 Dependency:** Epic 4, Story 4.2 and 4.3 require modifying burn-performance and mixshift Dash apps to integrate JWT validation and API data access. If these repos are not accessible, Epic 4 will be blocked.

### Previous Story Insights
None (first story in project)

### Project Structure
[Source: architecture/11-unified-project-structure.md]

Expected sample repositories location (not yet confirmed):
```
kyros-saas-poc/
├── sample-plotly-repos/           # Location to verify
│   ├── burn-performance/          # CLV dashboard source
│   └── mixshift/                  # Risk analysis dashboard source
```

Future Dash app integration (Epic 4):
```
kyros-saas-poc/
├── apps/
│   ├── dash-app-clv/              # Will copy/modify burn-performance
│   └── dash-app-risk/             # Will copy/modify mixshift
```

### Documentation Requirements
[Source: epic-0-prerequisites-validation.md]

Create `docs/external-dependencies.md` with the following structure:
- Repository Locations (URLs or paths)
- Dash Application Structure (entry points, dependencies)
- Access Instructions (how to obtain/clone repos)
- Fallback Plan (if repos not accessible)

This document will be referenced throughout Epic 0 and used in Epic 4 during Dash integration.

### Dash Application Expectations
[Source: architecture/3-tech-stack.md + prd/epic-4]

Expected Dash technology stack:
- **Python:** 3.11+ (compatible with project)
- **Dash:** 2.18+ (target version for PoC)
- **Plotly:** Compatible version with Dash 2.18+
- **Data handling:** Likely Pandas for CSV/data loading

Entry points typically:
- `app.py` or `main.py` or `dashboard.py`
- May use Dash's `app = dash.Dash(__name__)` pattern
- Callbacks defined with `@app.callback()`

### Testing
[Source: architecture/15-testing-strategy.md]

**No automated tests required for this story** - this is an investigation/validation task that produces documentation.

**Manual validation:**
- Verify file paths exist
- Confirm file read access
- Visual inspection of Dash app files

**Definition of Done:**
- `docs/external-dependencies.md` created and comprehensive
- Both repositories checked (accessible or fallback documented)
- Dash app entry points identified OR fallback plan approved

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-07 | 0.1 | Initial story creation | Bob (Scrum Master) |
| 2025-10-07 | 1.0 | Story completed - repositories validated and documented | James (Dev Agent) |

## Dev Agent Record

### Agent Model Used
Claude 3.5 Sonnet (claude-sonnet-4-5-20250929)

### Debug Log References
None required - straightforward validation task

### Completion Notes List
- All 4 tasks completed successfully
- Both repositories found and accessible at `/kyros-dev/work/kyros-saas-poc/sample-plotly-repos/`
- Repository validation results:
  - ✅ burn-performance: Accessible, entry point `app.py`, Dash 2.18.1
  - ✅ mixshift: Accessible, entry point `app.py`, Dash 2.18.1
- Key findings documented:
  - Both apps use compatible Dash version (2.18.1 matches PoC target)
  - Private package dependency identified: `kyros-plotly-common==0.5.8` (requires handling in Epic 4)
  - Databricks data source dependencies (will replace with FastAPI endpoints in Epic 4)
  - Redis caching dependencies (will use in-memory caching or disable for PoC)
  - Multi-page application structure compatible with PoC requirements
  - Python 3.8-3.11 compatibility confirmed
- Test data directories located:
  - `burn-performance-test-data/` (validation deferred to Story 0.2)
  - `mixshift-test-data/` (validation deferred to Story 0.2)
- Epic 4 integration strategy documented:
  - Modify existing applications (no stub apps needed)
  - Remove/mock private package dependencies
  - Replace Databricks with FastAPI data endpoints
  - Add JWT validation for tenant isolation
  - Simplify caching (remove Redis)
- Fallback plan documented but not required (repos accessible)
- All acceptance criteria met

### File List
**Created:**
- `docs/external-dependencies.md` - Comprehensive documentation of sample Plotly repositories including structure, dependencies, data patterns, key findings, and Epic 4 integration strategy

**Modified:**
- None

## QA Results
_(To be filled by QA Agent)_
