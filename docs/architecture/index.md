# Kyros Multi-Tenant SaaS PoC - Fullstack Architecture Document

## Table of Contents

- [Kyros Multi-Tenant SaaS PoC - Fullstack Architecture Document](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [1. Introduction](./1-introduction.md)
    - [1.1 Starter Template or Existing Project](./1-introduction.md#11-starter-template-or-existing-project)
    - [1.2 Change Log](./1-introduction.md#12-change-log)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [2.1 Technical Summary](./2-high-level-architecture.md#21-technical-summary)
    - [2.2 Platform and Infrastructure Choice](./2-high-level-architecture.md#22-platform-and-infrastructure-choice)
    - [2.3 Repository Structure](./2-high-level-architecture.md#23-repository-structure)
    - [2.4 High Level Architecture Diagram](./2-high-level-architecture.md#24-high-level-architecture-diagram)
    - [2.5 Architectural Patterns](./2-high-level-architecture.md#25-architectural-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
  - [4. Data Models](./4-data-models.md)
    - [4.1 Tenant](./4-data-models.md#41-tenant)
    - [4.2 User](./4-data-models.md#42-user)
    - [4.3 UserTenant](./4-data-models.md#43-usertenant)
    - [4.4 Dashboard](./4-data-models.md#44-dashboard)
    - [4.5 TenantDashboard](./4-data-models.md#45-tenantdashboard)
    - [4.6 JWT Token Claims](./4-data-models.md#46-jwt-token-claims)
    - [4.7 Mock Tenant Data](./4-data-models.md#47-mock-tenant-data)
    - [4.8 PoC vs MVP Data Model Tradeoffs](./4-data-models.md#48-poc-vs-mvp-data-model-tradeoffs)
  - [5. API Specification](./5-api-specification.md)
    - [REST API Specification](./5-api-specification.md#rest-api-specification)
  - [6. Components](./6-components.md)
    - [6.1 Shell UI (Next.js Application)](./6-components.md#61-shell-ui-nextjs-application)
    - [6.2 FastAPI Monolith](./6-components.md#62-fastapi-monolith)
    - [6.3 Dash App: Customer Lifetime Value (CLV)](./6-components.md#63-dash-app-customer-lifetime-value-clv)
    - [6.4 Dash App: Risk Analysis](./6-components.md#64-dash-app-risk-analysis)
    - [6.5 Shared Config Module](./6-components.md#65-shared-config-module)
    - [6.6 Tenant Metadata Database (SQLite)](./6-components.md#66-tenant-metadata-database-sqlite)
    - [6.7 In-Memory Data Store (Pandas)](./6-components.md#67-in-memory-data-store-pandas)
  - [7. Core Workflows](./7-core-workflows.md)
    - [7.1 Complete Authentication and Dashboard Access Flow](./7-core-workflows.md#71-complete-authentication-and-dashboard-access-flow)
    - [7.2 Token Expiry and Refresh Flow](./7-core-workflows.md#72-token-expiry-and-refresh-flow)
    - [7.3 Cross-Tenant Isolation Validation](./7-core-workflows.md#73-cross-tenant-isolation-validation)
  - [8. Database Schema](./8-database-schema.md)
    - [8.1 Schema Definition (SQLite with PostgreSQL compatibility)](./8-database-schema.md#81-schema-definition-sqlite-with-postgresql-compatibility)
    - [8.2 PostgreSQL Migration Notes](./8-database-schema.md#82-postgresql-migration-notes)
  - [9. Frontend Architecture](./9-frontend-architecture.md)
    - [9.1 Component Architecture](./9-frontend-architecture.md#91-component-architecture)
      - [Component Organization](./9-frontend-architecture.md#component-organization)
    - [9.2 State Management Architecture](./9-frontend-architecture.md#92-state-management-architecture)
      - [State Structure](./9-frontend-architecture.md#state-structure)
  - [10. Backend Architecture](./10-backend-architecture.md)
    - [10.1 Service Architecture (Monolith)](./10-backend-architecture.md#101-service-architecture-monolith)
      - [Function Organization](./10-backend-architecture.md#function-organization)
  - [11. Unified Project Structure](./11-unified-project-structure.md)
  - [12. Development Workflow](./12-development-workflow.md)
    - [12.1 Prerequisites](./12-development-workflow.md#121-prerequisites)
    - [12.2 Initial Setup](./12-development-workflow.md#122-initial-setup)
    - [12.3 Development Commands](./12-development-workflow.md#123-development-commands)
  - [13. Deployment Architecture](./13-deployment-architecture.md)
    - [13.1 Deployment Strategy](./13-deployment-architecture.md#131-deployment-strategy)
  - [14. Security and Performance](./14-security-and-performance.md)
    - [14.1 Security Requirements](./14-security-and-performance.md#141-security-requirements)
    - [14.2 Performance Optimization](./14-security-and-performance.md#142-performance-optimization)
  - [15. Testing Strategy](./15-testing-strategy.md)
    - [15.1 Testing Pyramid](./15-testing-strategy.md#151-testing-pyramid)
    - [15.2 Test Organization](./15-testing-strategy.md#152-test-organization)
  - [16. Coding Standards](./16-coding-standards.md)
    - [16.1 Critical Fullstack Rules](./16-coding-standards.md#161-critical-fullstack-rules)
    - [16.2 Naming Conventions](./16-coding-standards.md#162-naming-conventions)
  - [17. Error Handling Strategy](./17-error-handling-strategy.md)
    - [17.1 Error Response Format](./17-error-handling-strategy.md#171-error-response-format)
  - [18. Monitoring and Observability](./18-monitoring-and-observability.md)
    - [18.1 Monitoring Stack](./18-monitoring-and-observability.md#181-monitoring-stack)
    - [18.2 Key Metrics](./18-monitoring-and-observability.md#182-key-metrics)
    - [18.3 Logging Strategy (PoC)](./18-monitoring-and-observability.md#183-logging-strategy-poc)
  - [Appendix: PoC vs MVP Migration Checklist](./appendix-poc-vs-mvp-migration-checklist.md)
    - [Security Migration (CRITICAL)](./appendix-poc-vs-mvp-migration-checklist.md#security-migration-critical)
    - [Infrastructure Migration](./appendix-poc-vs-mvp-migration-checklist.md#infrastructure-migration)
    - [Architecture Enhancements](./appendix-poc-vs-mvp-migration-checklist.md#architecture-enhancements)
    - [Testing & Quality](./appendix-poc-vs-mvp-migration-checklist.md#testing-quality)
